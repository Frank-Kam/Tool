<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŠ½ç±¤å·¥å…·</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      overscroll-behavior: none;
    }
    button {
      min-height: 48px;
    }
    textarea, input[type="number"] {
      font-size: 14px;
    }
    @media (min-width: 640px) {
      textarea, input[type="number"] {
        font-size: 16px;
      }
    }
  </style>
</head>
<body class="bg-gray-100 p-4 sm:p-8 min-h-screen">
  <div class="max-w-xl mx-auto bg-white p-4 sm:p-6 rounded-xl shadow space-y-4">
    <h1 class="text-xl sm:text-2xl font-bold">æŠ½ç±¤å·¥å…·</h1>

    <label class="block font-medium">è¼¸å…¥ç±¤é …ï¼ˆæ¯è¡Œä¸€å€‹ï¼‰ï¼š</label>
    <textarea id="inputItems" class="w-full border p-2 rounded h-40 resize-y text-sm sm:text-base" placeholder="è¼¸å…¥æ¯è¡Œä¸€å€‹ç±¤é …ï¼Œä¾‹å¦‚ï¼š&#10;é¸é …1&#10;é¸é …2&#10;é¸é …3" aria-label="è¼¸å…¥ç±¤é …"></textarea>

    <label class="block font-medium mt-2">æŠ½å‡ºå¹¾å€‹ï¼š</label>
    <input id="drawCount" type="number" class="w-full border p-2 rounded text-sm sm:text-base" value="1" min="1" aria-label="é¸æ“‡æŠ½å‡ºæ•¸é‡">

    <button onclick="drawLots()" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-sm sm:text-base">
      é–‹å§‹æŠ½ç±¤
    </button>

    <div id="resultArea" class="mt-4 text-center"></div>
  </div>

  <script>
    function drawLots() {
      const raw = document.getElementById('inputItems').value;
      const count = parseInt(document.getElementById('drawCount').value);
      const resultArea = document.getElementById('resultArea');

      let items = raw.split('\n').map(s => s.trim()).filter(s => s.length > 0);
      if (items.length === 0) {
        resultArea.innerHTML = `<p class="text-red-600">è«‹è¼¸å…¥è‡³å°‘ä¸€å€‹ç±¤é …ï¼</p>`;
        return;
      }
      if (count < 1) {
        resultArea.innerHTML = `<p class="text-red-600">æŠ½å‡ºæ•¸é‡å¿…é ˆè‡³å°‘ç‚º 1ï¼</p>`;
        return;
      }
      if (items.length < count) {
        resultArea.innerHTML = `<p class="text-red-600">é …ç›®æ•¸ä¸è¶³ï¼Œç„¡æ³•æŠ½å‡º ${count} ç­†ã€‚</p>`;
        return;
      }

      // Fisher-Yates æ´—ç‰Œç®—æ³•
      for (let i = items.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [items[i], items[j]] = [items[j], items[i]];
      }
      let selected = items.slice(0, count);

      resultArea.innerHTML = `
        <h2 class="text-lg sm:text-xl font-bold text-green-700">ğŸ‰ æŠ½ç±¤çµæœï¼š</h2>
        <ul class="list-disc list-inside mt-2 space-y-1">
          ${selected.map(item => `<li class="text-base sm:text-lg">${item}</li>`).join('')}
        </ul>
      `;
    }
  </script>
</body>
</html>